(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const y of r.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&u(y)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();new Swiper(".header-slider",{speed:800,loop:!0,spaceBetween:30,autoplay:{delay:2e3},navigation:{nextEl:".header-slider__btn--next",prevEl:".header-slider__btn--prev"}});const q=document.querySelector(".header-top__wrapper");document.documentElement.style.setProperty("--header-top-height",`${q.offsetHeight}px`);const a=document.querySelector("#menuOpenBtn"),k=document.querySelector("#menuCloseBtn"),i=document.querySelector(".menu");function g(){i.classList.remove("menu--active"),a.removeAttribute("disabled")}function w(){i.classList.add("menu--active"),a.setAttribute("disabled","true")}a.addEventListener("click",w);k.addEventListener("click",g);a.addEventListener("keydown",e=>{e.key==="Enter"&&w()});document.addEventListener("keydown",e=>{e.key==="Escape"&&i.classList.contains("menu--active")&&g()});document.addEventListener("click",e=>{!i.contains(e.target)&&!a.contains(e.target)&&i.classList.contains("menu--active")&&g()});const _=document.querySelectorAll(".gallery__tabBtn"),B=document.querySelectorAll(".gallery__tab");_.forEach(e=>{e.addEventListener("click",()=>{_.forEach(n=>n.classList.remove("gallery__tabBtn--active")),e.classList.add("gallery__tabBtn--active"),B.forEach(n=>{n.classList.remove("gallery__tab--active"),n.id===e.getAttribute("data-id")&&n.classList.add("gallery__tab--active")})})});let s;function x(){s=new Swiper(".gallerySlider",{slidesPerView:1,spaceBetween:10,pagination:{el:".gallery__progressbar",type:"progressbar"}})}const b=document.querySelector(".gallery-swiper-pagination-progressbar");b.addEventListener("click",function(e){const n=b.getBoundingClientRect(),o=e.clientX-n.left,u=n.width,t=o/u,r=Math.round(t*(s.slides.length-1));s.slideTo(r)});function L(){window.innerWidth<768?s||x():s&&s.destroy&&(s.destroy(!0,!0),s=void 0)}L();window.addEventListener("resize",L);new Swiper(".review__slider-container",{speed:800,spaceBetween:30,loop:!0,navigation:{nextEl:".review__slider-button-next",prevEl:".review__slider-button-prev"}});new Swiper(".plans__slider",{speed:800,spaceBetween:30,scrollbar:{el:".plans__slider-scrollbar",draggable:!0}});const C=document.querySelector("#exclusiveForm");C.addEventListener("submit",e=>{e.preventDefault()});new Swiper(".infrastructure__slider",{speed:800,spaceBetween:30,scrollbar:{el:".infrastructure__slider-scrollbar",draggable:!0}});new Swiper(".area__slider",{slidesPerView:1,spaceBetween:10,on:{init:function(){this.slideTo(1)}},breakpoints:{680:{slidesPerView:2,spaceBetween:20},1540:{slidesPerView:3,spaceBetween:24}},scrollbar:{el:".area__scrollbar",draggable:!0}});const h=document.querySelector(".city__pop-up"),A=document.querySelector(".city__btn-more"),M=document.querySelector(".city__pop-up-btn");A.addEventListener("click",()=>{h.classList.add("city__pop-up--active"),document.body.classList.add("noscroll")});M.addEventListener("click",()=>{h.classList.remove("city__pop-up--active"),document.body.classList.remove("noscroll")});mapboxgl.accessToken="pk.eyJ1IjoibmFib3dlZSIsImEiOiJjbTB3cWdveXAwNGFjMmlweWQ5cm96c2RsIn0.dXkGDJG7xNkcWngVdUBueg";const E=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/light-v11",center:[-4.828,36.51256],zoom:16}),P=[{lng:-4.828,lat:36.51256,address:"Calle Green, Marbella, Spain"}],l=document.createElement("div");l.style.backgroundImage='url("./img/map-pin.png")';l.style.width="25px";l.style.height="25px";l.style.backgroundSize="100%";E.addControl(new mapboxgl.NavigationControl);P.forEach(e=>{const n=`https://www.google.com/maps?q=${encodeURIComponent(e.address)}`;new mapboxgl.Marker(l).setLngLat([e.lng,e.lat]).setPopup(new mapboxgl.Popup({offset:25}).setText(e.address).setHTML(`
      <p>${e.address}</p>
      <a class="map-link" href="${n}" target="_blank">View on Google Maps</a>
    `)).addTo(E)});const c=document.querySelector("#requestACall"),O=document.querySelector("#requestACallCloseBtn"),d=document.querySelector(".header-top__btn");function f(){c.classList.remove("requestACall--active"),d.removeAttribute("disabled")}function S(){c.classList.add("requestACall--active"),d.setAttribute("disabled","true")}d.addEventListener("click",S);O.addEventListener("click",f);d.addEventListener("keydown",e=>{e.key==="Enter"&&S()});document.addEventListener("keydown",e=>{e.key==="Escape"&&c.classList.contains("requestACall--active")&&f()});document.addEventListener("click",e=>{!c.contains(e.target)&&!d.contains(e.target)&&c.classList.contains("requestACall--active")&&f()});document.getElementById("requestACallForm").addEventListener("submit",function(e){e.preventDefault();const n=new FormData(this);fetch("submit.php",{method:"POST",body:n}).then(o=>o.text()).then(o=>{console.error(o)}).catch(o=>{console.error("Error:",o)})});const v=document.querySelector("#footerMenuOpenBtn"),p=document.querySelector(".footer-top__nav2");function m(){p.classList.toggle("footer-top__nav2--active")}v.addEventListener("click",m);v.addEventListener("keydown",e=>{e.key==="Enter"&&m()});document.addEventListener("keydown",e=>{e.key==="Escape"&&p.classList.contains("footer-top__nav2--active")&&m()});document.addEventListener("click",e=>{!p.contains(e.target)&&!v.contains(e.target)&&p.classList.contains("footer-top__nav2--active")&&m()});
